readme for rcs.awk
93-07-10 SASAKI Takeshi

** rcs.awk とは

RCS (立体視できる出鱈目の模様) を生成する awk scriptである。
平行法 (視点を遠くに合わせる方法) 用の RCS を生成する。
awk なので点とか色とかを使わずに文字を使っている。
よってパソコン通信とかに上げるときも安心だ。

ちなみに RCS は Random Character Stereogram の略である。
Revision Control System 等とは何の関係もない。

** rcs.awk の使い方

syntax: gawk -f rcs.awk [filename]

filename は元となるファイルである。
省略した場合は標準入力から読まれる。
78文字の幅の RCS が標準出力に出力される。

** 元となる data について

各行 40文字からなるテキストデータである。
行数は何行でもいいが、画面で直接見ることを考えると 20行程度がいいだろう。

各行は、見える物体の対応する位置の浮き上り方を示している。

具体的には、各行は ASCIIコードの数字よりなっている
(実をいうと数字以外の文字があっても0と解釈されるだけなので、
構わないのだが)。
0が基準となる面で、数が大きくなるほど手前に浮き上がって見える。
つまり 0〜9 の10段階の奥行きしか指定できない。
しかしあまり大きな数字を指定するとまともな絵ができないかも知れないので、
3ぐらいで辞めておいた方が無難である。

** 原理、算法

文字だけで書くのは難しいので書かない。
月刊アスキー '93/3 にも載っているらしいが、全く参考にしていない。

** プログラムについて

一応、変数だけ解説しておく

	xw	元のパターンの幅 (40)
	w	両目の幅 (20)
	h	画面と基準面の距離 (目と画面の距離が単位) (1.0)
	d	単位当たりの浮き上がり方 (〃)	(0.2)

	xl, xr	それぞれ右目、左目の見ている display上の位置 (-40〜40)
	x	視線の交点の位置 (-?〜+?)
	y	視線の交点の奥行き
	i	x に対応する index
	c	物体の x の場所の盛り上り (0〜9)
		または xl の場所の文字 (= xr の場所の文字)

** Bugs

- 計算ルーチンで手を抜いているので、ゆがんで見える。
	(上にあるものが右にずれて見える)

- 文字単位なので細かい模様が見えない。

- そもそも見えない人もいる。

